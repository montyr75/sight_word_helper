<dom-module id="main-app">
  <link href='https://fonts.googleapis.com/css?family=ABeeZee' rel='stylesheet' type='text/css'>
  <template>
    <style>
      :host {
        display: block;

        --paper-card-header: {
          display: none;
        };

        --paper-item-focused-before: {
          background: none;
        };
      }

      paper-button, paper-icon-button, paper-checkbox {
        cursor: default;
        text-transform: none;
      }

      .user-select-none {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
      }

      .word-slide {
        font-size: 75px;
        font-family: 'ABeeZee', sans-serif;
        text-align: center;
      }

      #slideshow {
        width: 400px;
        height: 90px;
        margin: 10px;
      }

      #phrase-list {
        margin: 10px;
      }

      .phrase {
        font-family: 'ABeeZee', sans-serif;
        font-size: 24px;
      }

      paper-card {
        margin: 5px;
      }
    </style>

    <app-model id="model" on-word-list-updated="wordListUpdated"></app-model>

    <paper-drawer-panel id="drawer-panel">
      <!-- Drawer Scroll Header Panel -->
      <paper-header-panel drawer fixed>

        <!-- Drawer Toolbar -->
        <paper-toolbar id="drawerToolbar">
          <span class="paper-font-title">Word Lists</span>
        </paper-toolbar>

        <!-- Drawer Content -->
        <div class="content layout vertical">
          <template is="dom-repeat" items="[[model.wordLists]]">
            <paper-item role="menuitemcheckbox" class="user-select-none" tabindex="-1">
              <paper-item-body>
                [[item.displayName]]
              </paper-item-body>
              <paper-checkbox checked="{{item.selected}}" on-change="wordListSelectionChanged"></paper-checkbox>
            </paper-item>
          </template>

          <paper-button raised on-tap="updateWordList" disabled$="{{!submitEnabled}}">Submit</paper-button>
        </div>
       </paper-header-panel>

      <!-- Main Area -->
      <paper-header-panel id="main-panel" main condenses keep-condensed-header>

        <!-- Main Toolbar -->
        <paper-toolbar id="mainToolbar">
          <paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle></paper-icon-button>

          <!-- Application name -->
          <h2 class="app-title flex">Sight Words</h2>
        </paper-toolbar>

        <!-- Main Content -->
        <div class="content fit layout vertical center">
          <index-iterator id="word-iterator" end-index="[[model.lastWordIndex]]" loop on-changed="wordListIndexChanged"></index-iterator>

          <paper-card heading="Card Title">
            <div id="slideshow" class="card-content layout vertical">
              <iron-pages class="fit" selected="[[wordDisplayIterator.index]]">
               <template is="dom-repeat" items="[[model.wordList]]">
                  <section>
                    <div class="word-slide" is="html-display" html-content="[[item]]"></div>
                  </section>
                </template>
              </iron-pages>
            </div>
            <div class="card-actions layout horizontal center justified">
              <paper-icon-button icon="av:skip-previous" on-tap="prevSlide"></paper-icon-button>
              <paper-progress min="0" max="[[model.lastWordIndex]]" value="[[wordDisplayIterator.index]]"></paper-progress>
              <paper-icon-button icon="av:skip-next" on-tap="nextSlide"></paper-icon-button>
            </div>
          </paper-card>

          <paper-material id="phrase-list" elevation="1">
            <template is="dom-repeat" items="[[model.phraseList]]">
              <paper-item tabindex="-1">
                <div class="phrase" is="html-display" html-content="[[item]]"></div>
              </paper-item>
            </template>
          </paper-material>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>
  </template>
</dom-module>